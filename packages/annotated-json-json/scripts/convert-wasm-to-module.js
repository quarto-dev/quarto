const fs = require('fs');
const path = require('path');

const inputFile = './src/resources/tree-sitter-json.wasm';
const outputFile = './src/autogen/tree-sitter-json-data.ts';

const buffer = fs.readFileSync(inputFile);
const int8Array = new Uint8Array(buffer);
const arrayString = Array.from(int8Array).join(',');

const jsContent = `// autogenerated, do not edit!\nexport const data: Uint8Array = new Uint8Array([${arrayString}]);`;
fs.mkdirSync(path.dirname(outputFile), { recursive: true });
fs.writeFileSync(outputFile, jsContent);
